<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="css/abmevent.css">
</head>
<body>
<div id="myDIV" class="header">
  <h2 style="margin:5px">inline</h2>
</div>

<div id="myDIV" class="inlineblock">
  <h2 style="margin:5px">ABM Events</h2>

  <div class="card-image">
    <img src="https://i.ibb.co/0Q08N6Q/5.jpg" alt="" class="card-img">
  </div>
</div>

<div class="post-bar">
  <button class="plus-button">+</button>
</div>

<ul id="myUL">
</ul>



<div class="popup" id="popup">
  <div class="popup-content">
      <div class="popup-header">
          <h2>Post event</h2>
      </div>
      <div class="popup-body">
        <form id="eventForm" onsubmit="submitForm(event)">
          <img id="selectedImage" src="" alt="Selected Image" style="display: none;">
          <textarea id="title" class="event-name" placeholder="Event Name" maxlength="40"></textarea>
          <textarea id="description" class="event-details" placeholder="Event details" maxlength="1000"></textarea>
          <div class="character-count">Max letters: <span id="current-count">0</span>/1000</div>
          <input type="file" id="imageSelector" accept="image/*" onchange="previewImage(event)">

          <button type="submit" id="post-button" class="post-button" >Post Event</button>
          <button type="button" class="close-button" onclick="closePopup()">Close</button>
        </form>
      </div>                
  </div>
</div>

<div id="eventpopup" class="eventpopup">
  
  <div class="EventPopupHeader">
    <h2 id="popupTitle"></h2>
  </div> 
  <img id="popupImage" src="" alt="Event Image"> 
  <p id="popupDescription">
    <img id="popupImage" src="" alt="Event Image" style="max-width: 50%;">
  </p>
  <span class="closeevent" onclick="closeeventpopup()">&times;</span>
</div>


<div id="confirmation-popup" style="display: none;">
  <div id="confirmcontent">
    <p id="confirm-head">Delete selected event?</p>
    <button id="confirm-yes">Yes</button>
    <button id="confirm-no">No</button>
  </div>
</div>

<div class="backbutton">
  <a href="home.html"><button class="back"><</button></a>
</div>

<script>
// Function to request permission for push notifications
function requestNotificationPermission() {
  Notification.requestPermission().then(function(permission) {
    if (permission === 'granted') {
      console.log('Notification permission granted.');
      // You can proceed with sending notifications here
    } else {
      console.log('Notification permission denied.');
    }
  });
}
</script>

<script>
  // Open popup function
  function eventpopup(title, description) {
    var popupTitle = document.getElementById("popupTitle");
    var popupDescription = document.getElementById("popupDescription");

    // Popup title and description 
    popupTitle.textContent = title;
    popupDescription.textContent = description;

    var popup = document.getElementById("eventpopup");
    popup.style.display = "block"; // Display the popup
  }

  // Close popup 
  function closeeventpopup() {
    var popup = document.getElementById("eventpopup");
    popup.style.display = "none"; // Hide the popup
  }

 
 function eventpopup(title, description, imageUrl) {
  var popupTitle = document.getElementById("popupTitle");
  var popupDescription = document.getElementById("popupDescription");
  var popupImage = document.getElementById("popupImage");

  popupTitle.textContent = title;
  popupDescription.textContent = description;
  popupImage.src = imageUrl
  
  var popup = document.getElementById("eventpopup");
  popup.style.display = "block"; // Display the popup
}

  var myNodelist = document.getElementsByTagName("LI");
  var i;

  
  
  </script>  
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-storage.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/7.14.1-0/firebase.js"></script>
    <script src="ictevent.js"></script>
    <script src="js/abmevent.js"></script>

    <script>
      // Initialize Firebase
      const firebaseConfig = {
        apiKey: "AIzaSyBhscabbNJo4YRJPEV80Kh1XOvKCvkcxnk",
        authDomain: "neoacadb.firebaseapp.com",
        databaseURL: "https://neoacadb-default-rtdb.firebaseio.com",
        projectId: "neoacadb",
        storageBucket: "neoacadb.appspot.com",
        messagingSenderId: "497933192563",
        appId: "1:497933192563:web:7dd8fac202d25c04c74906",
        measurementId: "G-EEV5VK6PF5"
      };
    
      firebase.initializeApp(firebaseConfig);
    
      // Access Firebase Messaging
      const messaging = firebase.messaging();
    
      // Request permission for notifications
      function requestPermission() {
        Notification.requestPermission().then((permission) => {
          if (permission === 'granted') {
            console.log('Notification permission granted.');
            // Handle user's permission
          } else {
            console.log('Unable to get permission to notify.');
          }
        });
      }
      
      // Request permission for notifications

    </script>

</body>
</html>
